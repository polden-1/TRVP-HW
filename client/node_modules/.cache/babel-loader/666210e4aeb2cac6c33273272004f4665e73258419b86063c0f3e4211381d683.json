{"ast":null,"code":"var _jsxFileName = \"/Users/nikitakrylov/Desktop/TRVP-011/client/src/components/ui/InnerCard.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { deleteInterview, moveInterview } from \"../../requests\";\nimport { addTime } from \"../../functions\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function InnerCard({\n  data,\n  allData,\n  parentData,\n  checkSkills,\n  checkTime\n}) {\n  _s();\n  const {\n    interview_id,\n    candidate_name,\n    interview_start_time,\n    interview_skills = []\n  } = data;\n  const [shown, setShown] = useState(false);\n  const [newData, setNewData] = useState({\n    new_manager_id: ''\n  });\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const parsedSkills = interview_skills.map(p => p.skill_id);\n    if (checkSkills(parseInt(newData.new_manager_id), parsedSkills) && checkTime(parseInt(newData.new_manager_id), interview_start_time)) {\n      const res = await moveInterview(interview_id, newData);\n      if (res === 200) {\n        setShown(false);\n        window.location.reload();\n      }\n    }\n  };\n  const handleChancel = e => {\n    e.preventDefault();\n    setShown(false);\n  };\n  const handleDelete = async () => {\n    if (window.confirm(`Вы уверены, что хотите отменить интервью с ${candidate_name}?`)) {\n      const res = await deleteInterview(interview_id);\n      if (res) {\n        alert(res.message);\n        window.location.reload();\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"inner-card-block\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inner-card-block-title\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inner-card-block-name\",\n        children: [candidate_name, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inner-card-block-buttons\",\n          children: [!shown && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/images/icon-change.png\",\n            alt: \"\\u041F\\u0435\\u0440\\u0435\\u043D\\u0430\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\",\n            onClick: () => setShown(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"inner-card-block-buttons-delete\",\n            src: \"/images/icon-remove.png\",\n            alt: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\",\n            onClick: handleDelete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inner-card-block-subitems\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inner-card-block-subitems-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inner-card-block-subitems-list-item\",\n            children: [interview_start_time, \" - \", addTime(interview_start_time)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), interview_skills.map((element, index) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inner-card-block-subitems-list-item\",\n              children: element.skill_name\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 33\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), shown ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"form-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-input-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"new_manager_id\",\n              children: \"\\u041D\\u043E\\u0432\\u044B\\u0439 \\u043C\\u0435\\u043D\\u0435\\u0434\\u0436\\u0435\\u0440:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"new_manager_id\",\n              value: newData.new_manager_id,\n              onChange: e => handleChange(e),\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                disabled: true,\n                children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043C\\u0435\\u043D\\u0435\\u0434\\u0436\\u0435\\u0440\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 37\n              }, this), allData.filter(element => {\n                return element.manager_id !== parentData.manager_id;\n              }).map(element => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: element.manager_id,\n                children: element.manager_name\n              }, element.manager_id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 41\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"buttons-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"grey-button\",\n              type: \"chancel\",\n              onClick: e => handleChancel(e),\n              children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"filed-button\",\n              type: \"submit\",\n              children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this)\n      }, void 0, false) : \"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 9\n  }, this);\n}\n_s(InnerCard, \"hlBBAB4y8CmP3Y8TzHpFoLVRCXM=\");\n_c = InnerCard;\nvar _c;\n$RefreshReg$(_c, \"InnerCard\");","map":{"version":3,"names":["useState","deleteInterview","moveInterview","addTime","jsxDEV","_jsxDEV","Fragment","_Fragment","InnerCard","data","allData","parentData","checkSkills","checkTime","_s","interview_id","candidate_name","interview_start_time","interview_skills","shown","setShown","newData","setNewData","new_manager_id","handleChange","e","name","value","target","prevData","handleSubmit","preventDefault","parsedSkills","map","p","skill_id","parseInt","res","window","location","reload","handleChancel","handleDelete","confirm","alert","message","className","children","src","alt","onClick","fileName","_jsxFileName","lineNumber","columnNumber","element","index","skill_name","onSubmit","htmlFor","onChange","required","disabled","filter","manager_id","manager_name","type","_c","$RefreshReg$"],"sources":["/Users/nikitakrylov/Desktop/TRVP-011/client/src/components/ui/InnerCard.jsx"],"sourcesContent":["import { useState } from \"react\"\r\nimport { deleteInterview, moveInterview} from \"../../requests\";\r\nimport { addTime } from \"../../functions\";\r\n\r\nexport default function InnerCard({data, allData, parentData, checkSkills, checkTime}) {\r\n    const { interview_id, candidate_name, interview_start_time, interview_skills=[]} = data;\r\n    const [shown, setShown] = useState(false);\r\n    const [newData, setNewData] = useState({\r\n        new_manager_id: '',\r\n    });\r\n    \r\n\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n\r\n        setNewData((prevData) => ({\r\n            ...prevData,\r\n            [name]: value,\r\n        }));\r\n    };\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const parsedSkills = interview_skills.map(p => p.skill_id);\r\n\r\n        if(checkSkills(parseInt(newData.new_manager_id), parsedSkills) && checkTime(parseInt(newData.new_manager_id), interview_start_time)){\r\n            const res = await moveInterview(interview_id, newData);\r\n            if (res === 200) {\r\n                setShown(false);\r\n                window.location.reload();\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleChancel = (e) => {\r\n        e.preventDefault();\r\n        setShown(false);\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        if (window.confirm(`Вы уверены, что хотите отменить интервью с ${candidate_name}?`)) {\r\n            const res = await deleteInterview(interview_id);\r\n            if(res){\r\n                alert(res.message);\r\n                window.location.reload();\r\n            }\r\n            \r\n        }\r\n    };\r\n\r\n    \r\n\r\n    return (\r\n        <div className=\"inner-card-block\">\r\n            <div className=\"inner-card-block-title\">\r\n                <div className=\"inner-card-block-name\">\r\n                    {candidate_name}\r\n                    <div className=\"inner-card-block-buttons\">\r\n                        {!shown && (<img src=\"/images/icon-change.png\" alt=\"Перенаправить\" onClick={() => setShown(true)}/>)}\r\n                        <img className=\"inner-card-block-buttons-delete\" src=\"/images/icon-remove.png\" alt=\"Удалить\" onClick={handleDelete}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"inner-card-block-subitems\">\r\n                    <div className=\"inner-card-block-subitems-list\">\r\n                        <div className=\"inner-card-block-subitems-list-item\">\r\n                            {interview_start_time} - {addTime(interview_start_time)}\r\n                        </div>\r\n                        {interview_skills.map((element, index) => {\r\n                            return (\r\n                                <div key={index} className=\"inner-card-block-subitems-list-item\">\r\n                                    {element.skill_name}\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                {shown?(\r\n                    <>\r\n                        <form onSubmit={handleSubmit} className=\"form-block\">\r\n                            <div className=\"form-input-block\">\r\n                                <label htmlFor=\"new_manager_id\">Новый менеджер:</label>\r\n                                <select\r\n                                    name=\"new_manager_id\"\r\n                                    value={newData.new_manager_id}\r\n                                    onChange={(e) => handleChange(e)}\r\n                                    required\r\n                                >\r\n                                    <option value=\"\" disabled>\r\n                                        Выберите менеджера\r\n                                    </option>\r\n                                    {allData.filter((element) => {return element.manager_id !== parentData.manager_id}).map((element) => (\r\n                                        <option key={element.manager_id} value={element.manager_id}>\r\n                                            {element.manager_name}\r\n                                        </option>\r\n                                    ))}\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"buttons-block\">\r\n                                <button className=\"grey-button\" type=\"chancel\" onClick={(e) => handleChancel(e)}>Отменить</button>\r\n                                <button className=\"filed-button\" type=\"submit\">Сохранить</button>\r\n                            </div>\r\n                        </form>\r\n                    </>\r\n                ):(\"\")}\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}